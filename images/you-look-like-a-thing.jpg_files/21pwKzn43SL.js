'use strict';(function(e){var h=window.AmazonUIPageJS||window.P,k=h._namespace||h.attributeErrors,b=k?k("MorpheusPopularityRankSidesheetAssets",""):h;b.guardFatal?b.guardFatal(e)(b,window):b.execute(function(){e(b,window)})})(function(e,h,k){e.when("A","jQuery","ready").register("monarch-sidesheet",function(b){function y(a,d){(a=c("#"+a))&&0<a.length&&a[0].setAttribute("aria-modal",d)}function e(a){a&&c("#"+l).is(":hidden")?c("#"+l).show():!a&&c("#"+l).is(":visible")&&c("#"+l).hide()}function u(){var a=
c("#"+f).width()+50;z({right:"-"+a+"px"},function(){c("#"+f).hide()})}function p(a){if(f&&m&&g){u();c("#"+m).hide();c("#"+g).hide();document.body.style.overflow=x?x:"";y(f,"false");var d=h.ue;d&&d.count&&d.count("morpheusSidesheetDismissed",1);q=a?a:k;document.activeElement.blur();(a=c("#morpheus-ingress-link"))&&0<a.length&&a[0].focus()}}function v(a){c("#"+f).show(function(){z({right:"0px"},function(){c("#"+g).show();c("#"+n).is(":empty")&&e(!0);document.activeElement.blur();a&&q&&c("#"+q)?c("#"+
q).focus():r().focus();q=k})})}function t(a){"Escape"===a.key||"Esc"===a.key?(a.preventDefault(),a.stopPropagation(),p()):"Tab"===a.key&&(a.shiftKey&&a.target===document.getElementById(f)?r().focus():A(a.target),a.shiftKey||a.target!==w()||(a.preventDefault(),a.stopPropagation(),a.target.blur(),r().focus()))}function D(a){if("Enter"===a.key)a.preventDefault(),a.stopPropagation(),p();else if("Tab"===a.key&&a.shiftKey){a.preventDefault();a.stopPropagation();var d=w();d&&(a.target.blur(),"TAG-PILL"===
d.nodeName&&(d=d.shadowRoot.querySelector("button")),d.focus())}else"Tab"!==a.key||a.shiftKey||a.target!==w()||(a.preventDefault(),a.stopPropagation())}function z(a,d){b.animate(c("#"+f),a,300,"ease-out",d)}function B(){var a=document.querySelector('.sidesheetAsinListContainer:not(.aok-hidden) [name\x3d"pagination-current-page-number"]');return a&&2<a.value}function w(){var a=document.getElementById(f);a=Array.from(a.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex\x3d"-1"])')).filter(function(a){return!!a.offsetParent});
if(!a.length)return r();var d=a[a.length-1];d&&d.classList.contains("pagination-see-more-link")&&!B()&&(d=a[a.length-2]);return d}function r(){var a=document.getElementById(g+"-announce");return a?a:g}function A(a){if(document.querySelector(C).contains(a)){a=a.getBoundingClientRect();var d=h.innerHeight||document.documentElement.clientHeight,c=~~(d/2),b=0;a.bottom>d-c?b=a.bottom-d+c:a.top<c&&(b=a.top-c);0!==b&&document.getElementById(n).scrollBy({top:b})}}var c=b.$,f,n,m,g,l,x,q,C;return{initialize:function(a,
d,c,b,e){f=a;n=d;m=c;l=b;g=e;C="#"+n+" #morpheus-asin-list:not(.aok-hidden)";x=document.body.style.overflow;f&&n&&m&&l&&g&&(document.getElementById(m).addEventListener("click",p),document.getElementById(g).addEventListener("click",p),document.getElementById(g).addEventListener("keydown",D),document.getElementById(m).addEventListener("keydown",t),document.getElementById(f).addEventListener("keydown",t))},show:function(a){f&&n&&m&&l&&g&&(c("#"+m).show(),v(a),document.body.style.overflow="hidden",y(f,
"true"))},setContent:function(a){n&&l&&(e(!1),c("#"+n).html(a))},setLoadingSpinnerVisible:e,closeSidesheet:p,paginationSeeMoreLinkIsFocusable:B,getLastFocusableElement:w,getFocusableCloseElement:r,ensureElementInView:A}});e.when("A","ready").execute(function(b){function e(){b.$("#morpheus-ingress-link").bind("click",function(){b.trigger("akira:morpheusIngress:clicked")})}e();b.on("PageRefresh:ATF",function(){e()})});"use strict";e.when("A","jQuery","ready").register("mobile-bottomsheet",function(b){function e(){if(0===
document.getElementsByClassName("morpheus-lightbox").length){var b=document.getElementsByClassName("a-sheet-lightbox");if(0<b.length)b[0].classList.add("morpheus-lightbox");else return!0}return!1}function h(){e()&&b.delay(h,10)}function u(){var e=document.getElementsByClassName("a-popover a-popover-secondary")[0],v=document.getElementsByClassName("a-sheet-web")[0],t=document.getElementsByClassName("a-sheet-content-container")[0];e!==k&&v!==k&&t!==k?(e.style.zIndex="498",v.style.borderRadius="16px 16px 0 0",
t.style.borderRadius="16px 16px 0 0",h()):b.delay(u,10)}b.on("a:popover:beforeHide:secondary_view_morpheus",function(){var b=document.getElementsByClassName("morpheus-lightbox");0<b.length&&b[0].classList.remove("morpheus-lightbox")});b.on("a:popover:afterShow:secondary_view_morpheus",e);return{styleElements:u}})});